## stack too small

@0


@1
MOV UP DOWN

@2
MOV UP ACC
MOV ACC RIGHT
MOV ACC RIGHT
MOV 0 DOWN
MOV 0 DOWN

@3
START:
MOV LEFT ACC
MOV 0 DOWN
PUSH:
JEZ ADD
SUB 1
MOV -1 DOWN
JMP PUSH
ADD:
MOV LEFT ACC
POP:JEZ START
SUB 1
MOV 1 DOWN
JMP POP

@4
MOV UP ACC
MOV ACC DOWN#-X
COM:SAV
MOV RIGHT ACC
JLZ POPADD
JEZ FLUSH
PUSH:SWP
MOV ACC LEFT
JMP COM
POPADD:SWP
ADD LEFT
JMP COM
FLUSH:SWP
MOV ACC DOWN
MOV RIGHT NIL#WAIT

@5
MOV UP NIL#WAIT
POP:MOV RIGHT ACC
JEZ FLUSH
MOV ACC LEFT
JMP POP
FLUSH:
MOV 0 LEFT
MOV 0 LEFT#WAIT
MOV UP NIL#LETWAIT

@6
MOV UP ACC
NEG
ADD UP
MOV ACC RIGHT

@7
MOV LEFT DOWN

@8

